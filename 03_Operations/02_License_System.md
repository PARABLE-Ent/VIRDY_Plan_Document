# 라이선스 체계

> **문서 버전**: 1.1
> **최종 수정일**: 26.02.03 18:00
> **작성자**: 임경섭

---

## 1. 개요

VIRDY의 라이선스 체계는 SaaS 구독 모델을 기반으로 설계된다. **무료 / Pro / Studio / Enterprise** 4단계 티어로 구성되며, 각 티어는 사용자 세그먼트(개인 입문자, 크리에이터, 프로덕션 스튜디오, 기업)별 차별화된 기능과 비용 구조를 제공한다.

---

## 2. 핵심 기획

### 2.1 구독 플랜 티어

| 항목 | 무료 | Pro (개인) | Studio | Enterprise |
|------|------|-----------|--------|------------|
| **대상** | 개인 입문자 | 개인 크리에이터 | 프로덕션 스튜디오 | 기업/대규모 프로덕션 |
| **방 생성** | ❌ | ✅ | ✅ | ✅ |
| **방 최대 인원** | - | 3명 | 6명 | 10명+ |
| **동시 방 보유** | 0개 | 1개 | 3개 | 10개+ |
| **매니저 모드** | ✅ | ✅ | ✅ | ✅ |
| **Sync 모드** | Live | Live | Live | Live / Ultra |
| **아바타 슬롯** | 0개 | 3개 | 10개 | 협의 |
| **아바타 용량 제한** | - | 중 | 높음 | 협의 |
| **스토리지** | 로컬만 | 클라우드 (소량) | 클라우드 | 클라우드 (대용량) |
| **상업적 사용** | ❌ | ✅ | ✅ | ✅ |

### 2.2 Sync 모드

네트워크 동기화 품질은 **Live**와 **Ultra** 두 가지 모드로 구분된다.

| 모드 | 대상 플랜 | 특징 | 용도 |
|------|----------|------|------|
| **Live** | 모든 플랜 | 경량 모션 데이터, 비용 효율적 | 일반 방송, 개인 사용 |
| **Ultra** | Enterprise 전용 | 고품질 모션 데이터, 높은 대역폭 | 공연, 특수 연출, 전문 프로덕션 |

**Sync 모드 설계 원칙:**
- Sync 품질은 기술 옵션이 아닌 **비용 및 계약 개념**으로 관리
- 현재 사용 중인 고용량 모션 데이터는 일반 사용에 부적합
- Live Sync 전용으로 최적화된 경량 모션 데이터 개발 필요

### 2.3 스토리지 정책

구독 종료 후에도 데이터를 보관하는 것 자체가 지속적인 비용 부담이므로, 스토리지는 **총 용량(GB) 기준이 아닌 보관 가능한 개수(아바타/월드 단위) 기준**으로 관리한다.

| 티어 | 아바타 보관 | 월드 보관 | 비고 |
|------|-----------|----------|------|
| 무료 | 0개 | 0개 | 로컬 저장만 가능 |
| Pro | 3개 | 1개 | 개별 용량 제한 있음 |
| Studio | 10개 | 5개 | 개별 용량 제한 있음 |
| Enterprise | 협의 | 협의 | 맞춤 계약 |

### 2.4 Enterprise 플랜

Enterprise 플랜은 **시트(Seat) 기반**으로 접근 권한을 제공한다.

| 항목 | 설명 |
|------|------|
| 구조 | 여러 개인 계정을 초대하여 사용 |
| 권한 관리 | 시트별 권한 할당 가능 |
| Ultra Sync | 특정 상황(공연, 특수 연출)에서만 제공 |
| 맞춤 계약 | 아바타/월드 슬롯, 스토리지 등 협의 |

### 2.5 Actor 및 Seat 개념 검토 (서버 개발자 회의 기반)

> 🚧 아래 내용은 서버 개발자 회의(2026.02) 기반 검토 사항이다. 비용 및 기술적 타당성에 따라 변동될 수 있다.

서버 아키텍처 전환 시, 플랜별 Actor 수 제한이 서버 측에서 검증되고, 유료 테넌트에는 Seat(멤버 초대 가능 수) 개념이 도입된다.

#### 플랜별 Actor 수 (검토 중)

| 플랜 | Actor 수 | 비고 |
|------|---------|------|
| 무료 | 1개 | 단일 사용자 |
| Starter/Pro | 2개 | 권장 사양 (1 PC 기준 최적 성능) |
| Studio/Enterprise | 6개 | 고사양 PC 필요 |

한 PC에서 최적 성능은 Actor 2개까지이며, 6개 동시 사용 시 고사양 PC가 필요하다.

#### Seat 개념 (검토 중)

| 항목 | 설명 |
|------|------|
| 정의 | 유료 테넌트의 멤버 초대 가능 수 |
| 적용 범위 | 유료 플랜 (Enterprise 중심) |
| 관리 | 테넌트 Owner/Admin이 Seat 할당 및 초대 |

### 2.6 방 생성 및 세션 제한

비용 부담이 가장 큰 요소는 **다운로드 트래픽**이므로, 이를 사용자에게 직접 노출하지 않고 **구독 플랜별 제한**으로 관리한다.

| 제한 항목 | 무료 | Pro | Studio | Enterprise |
|----------|------|-----|--------|------------|
| 동시 세션 생성 | 0 | 1 | 3 | 10+ |

**세션 유지 조건:**
- 유료 플랜 사용자가 최소 1명 이상 접속 중일 때만 세션 유지
- Free 사용자만 남은 세션은 "0명" 취급 → 10분 유예 후 파기
- 세션 소유자 퇴장 시 남은 유료 사용자에게 소유권 자동 이전

**세션 관리 기능:**
- 유료 플랜 사용자는 로비에서 "내 세션" 패널을 통해 활성 세션 관리
- 세션 리스트 조회, 재접속, 강제 종료 가능
- 동시 세션 제한에 걸렸을 때 기존 세션 종료 후 새 세션 생성

> 세션 생명주기 상세 정책은 [데이터 생명주기](./04_Data_Lifecycle.md) 참조

### 2.7 무료 플랜 설계 원칙

초기 유저 확보를 위해 무료 플랜에서도 최대한 많은 기능을 제공하되, **비용에 직접적인 영향을 주는 요소는 반드시 제한**한다.

| 허용 | 제한 |
|------|------|
| 세션 참가 (초대받아서) | 방 생성 |
| 기본 트래커 사용 | 아바타 클라우드 저장 |
| 로컬 아바타 사용 | 월드 업로드 |
| 채팅 참여 | - |

### 2.8 가격 정책 (검토 중)

| 모델 | 설명 | 상태 |
|------|------|------|
| SaaS 구독 | 월간/연간 구독 | 📋 주력 검토 |
| Steam 연동 | Steam 가격 정책 연동, DRM | 📋 검토 중 |

---

## 3. 설계 시 고려사항

### 3.1 비용 산정 원칙

비용 산정은 항상 **최악의 경우(Worst Case)**를 기준으로 고려한다.

| 비용 요소 | 중요도 | 설명 |
|----------|--------|------|
| **Photon 서버 비용** | 높음 | 동시 접속자 수, 세션 수에 비례 |
| **다운로드 트래픽** | 높음 | 월드/아바타 다운로드 (현재 1GB당 약 150원) |
| **스토리지 비용** | 중간 | 비활성 계정 데이터 장기 보관 시 누적 |

> 상세 비용 산출, 플랜별 마진 분석, 손익분기점(BEP)은 [비용 분석](./07_Cost_Analysis.md) 참조

### 3.2 리전별 비용 차이

Firebase Storage 다운로드 비용은 리전에 따라 다르므로, 서비스 리전 선택 시 비용 확인 필요.

### 3.3 플랜 등급 하락 정책

Enterprise → 하위 플랜으로 등급 하락 시:

| 정책 | 설명 |
|------|------|
| 즉시 삭제 | ❌ 부적절 |
| 유예 기간 | 일정 기간 데이터 다운로드 가능 |
| Archive/Frozen | 아카이브로 데이터 이동 (서버 비용 감축) |
| 장기 미복귀 | 6~12개월 후 데이터 삭제 |

> 상세 정책은 [데이터 생명주기](./04_Data_Lifecycle.md) 문서 참조

### 3.4 결제 시스템 (미구현)

현재 코드베이스에 결제/빌링 시스템이 없다. 향후 구현 시 고려할 사항:

- Stripe 또는 결제 게이트웨이 통합
- 구독 상태 관리 (Firebase Functions)
- 라이선스 키 발급 및 검증
- 평가판 기간 로직
- Steam DRM / 가격 정책 연동

### 3.5 보안 취약점

| 취약점 | 설명 |
|--------|------|
| 클라이언트 측 제한만 적용 | 서버 측 검증 없음 |
| 메모리 해킹 가능 | MaxActorSize 런타임 변경 가능 |

향후 서버 측 라이선스 검증, 암호화된 라이선스 토큰, 주기적 라이선스 확인이 필요하다.

---

## 4. 엣지 케이스 및 예외 처리

| 상황 | 대응 |
|------|------|
| 무료 플랜에서 방 생성 시도 | UI에서 비활성화 + 업그레이드 안내 |
| 구독 만료 시 | 데이터 손실 없이 기능 차단, 갱신 안내 |
| 동시 방 한도 초과 | 새 방 생성 차단, 기존 방 종료 유도 |
| Enterprise → Pro 등급 하락 | 유예 기간 제공, 데이터 아카이브 |
| 결제 실패 | 유예 기간 제공 후 기능 제한 |
| Ultra Sync 네트워크 조건 미달 | Live로 자동 전환 + 안내 |

---

## 5. 미결정 쟁점

| 항목 | 상태 | 비고 |
|------|------|------|
| 무료 플랜 제공 기능의 최종 범위 | 📋 논의 필요 | - |
| 플랜별 아바타/월드 보관 개수 | 📋 논의 필요 | - |
| 구독 종료 후 데이터 보관 기간 | 📋 논의 필요 | Google Drive 등 벤치마킹 |
| 방 생성 및 초대 제한 수치 | 📋 논의 필요 | - |
| Enterprise 시트 구조의 구체적 운영 방식 | 📋 논의 필요 | - |
| 플랜별 가격 | 📋 논의 필요 | - |

---

## 6. 향후 확장 가능성

| 항목 | 설명 | 우선순위 |
|------|------|---------|
| **4티어 플랜 구현** | 무료/Pro/Studio/Enterprise | 높음 |
| **결제 시스템** | Stripe/Steam 결제 연동 | 높음 |
| **라이선스 서버** | 서버 측 라이선스 검증 | 중간 |
| **평가판** | 기간 한정 Pro/Studio 체험 | 중간 |
| **Ultra Sync 구현** | Enterprise 전용 고품질 동기화 | 중간 |

---

## 관련 문서

- [제품 개요](../01_Product/01_Product_Overview.md)
- [사용자 역할](./01_User_Roles.md)
- [보안 시스템](./03_Security.md)
- [데이터 생명주기](./04_Data_Lifecycle.md)
- [리스크 관리](./05_Risk_Management.md)
- [계정 시스템](./06_Account_System.md)
- [네트워크 시스템](../02_Features/05_Network_System.md)
