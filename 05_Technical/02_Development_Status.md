# 개발 현황

> **문서 버전**: 1.0
> **최종 수정일**: 26.01.30 13:20
> **작성자**: 임경섭

---

## 1. 개요

이 문서는 VIRDY의 기능별 개발 진행 상태, 알려진 제한사항, 기술 부채, 로드맵을 정리한다. 기획/개발/운영 전반에서 현재 상태를 파악하고 우선순위를 판단하는 기준 문서로 활용한다.

---

## 2. 핵심 기획

### 2.1 전체 진행률

| 영역 | 상태 | 완성도 |
|------|------|--------|
| 핵심 기능 (아바타, 트래커, 카메라, 월드) | ✅ 구현 완료 | 90% |
| 네트워킹 (Photon Fusion, Chat) | ✅ 구현 완료 | 95% |
| UI/UX | ✅ 구현 완료 | 85% |
| SDK | ✅ 구현 완료 | 80% |
| 라이선스 | 🚧 기본 구현 | 30% |
| 보안 | 🚧 기본 구현 | 60% |

### 2.2 기능별 구현 상태

#### 아바타 시스템

| 기능 | 상태 | 비고 |
|------|------|------|
| VRM 0.x 로딩 | ✅ 완료 | UniVRM 사용 |
| 머티리얼 변환 (MToon → URP) | ✅ 완료 | 자동 변환 |
| BlendShape 동기화 | ✅ 완료 | 100개 지원 |
| 아바타 캐싱 | ✅ 완료 | Standard 빌드만 |
| VRM 암호화 저장 | ✅ 완료 | 업로드/캐시 암호화 |
| VRM 1.0 지원 | 📋 계획 | 차세대 포맷 |
| 아바타 런타임 커스터마이징 | 📋 계획 | |

#### 트래커 시스템

| 카테고리 | 장비 | 상태 |
|----------|------|------|
| **Facial** | iFacialMocap | ✅ 완료 |
| | VTube Studio | ✅ 완료 |
| | Facemotion3D | ✅ 완료 |
| | OpenSeeFace | ✅ 완료 |
| **Body** | SteamVR | ✅ 완료 |
| | VMC Protocol | ✅ 완료 |
| | Xsens | ✅ 완료 |
| | Vicon | ✅ 완료 |
| | MOVIN | ✅ 완료 |
| | Optitrack | 📋 계획 |
| **Hand** | Leap Motion | ✅ 완료 |
| | Manus | ✅ 완료 |
| | Mollisen | ✅ 완료 |
| | StretchSense | ✅ 완료 |

#### 카메라 시스템

| 기능 | 상태 | 비고 |
|------|------|------|
| 10채널 가상 카메라 | ✅ 완료 | FreeCam + 9 Fixed |
| Channel Link | ✅ 완료 | Send/Receive |
| View 모드 (Default/Manager/Studio/Spout) | ✅ 완료 | |
| Spout 출력 | ✅ 완료 | Windows 전용 |
| 카메라 프리셋 | ✅ 완료 | |
| DoF 제어 | ✅ 완료 | Cinemachine |
| NDI 출력 | 📋 계획 | |

#### 월드 시스템

| 기능 | 상태 | 비고 |
|------|------|------|
| AssetBundle 월드 로딩 | ✅ 완료 | |
| 월드 공유 (Public/Private/Private+) | ✅ 완료 | |
| VIRDYWorldDescriptor | ✅ 완료 | SDK 연동 |
| 런타임 라이팅 제어 | ✅ 완료 | |
| 런타임 포스트 프로세싱 | ✅ 완료 | |
| 월드 버전 관리 | ✅ 완료 | |
| 월드 마켓플레이스 | 📋 계획 | |

#### 네트워크 시스템

| 기능 | 상태 | 비고 |
|------|------|------|
| Photon Fusion Shared Mode | ✅ 완료 | |
| 세션 생성/참가 | ✅ 완료 | |
| 아바타 동기화 (압축 포함) | ✅ 완료 | |
| 카메라 동기화 | ✅ 완료 | |
| Photon Chat (텍스트) | ✅ 완료 | |
| 팀 채팅 (Creator/Manager 분리) | ✅ 완료 | |
| 음성 채팅 | 📋 계획 | |
| 녹화/재생 기능 | 📋 계획 | |

### 2.3 빌드 변형 상태

| 빌드 | 상태 | 비고 |
|------|------|------|
| Standard Build | ✅ 완료 | 전체 기능 |
| Enterprise Build | 📋 계획 | 확장 기능 |

### 2.4 알려진 제한사항

#### 기술적 제한

| 항목 | 제한 | 비고 |
|------|------|------|
| 최대 액터 (Standard) | 6명 | ActorManager 하드 제한 |
| 최대 세션 인원 | 100명 | Photon 설정 |
| 프레임당 액터 업데이트 | 3명 | 대역폭 최적화 |
| 동기화 본 수 | 22개 | HumanBodyBones 서브셋 |
| BlendShape 동기화 | 100개 | 네트워크 배열 제한 |
| 액터당 Props | 20개 | |

#### 기능적 제한

| 항목 | 상태 | 비고 |
|------|------|------|
| 음성 채팅 | ❌ 미구현 | Photon Voice 검토 |
| 녹화/재생 | ❌ 미구현 | |
| 라이선스 서버 검증 | ⚠️ 클라이언트 측만 | 서버 검증 필요 |
| 2FA/MFA | ❌ 미구현 | |
| macOS Spout | ❌ 미지원 | Windows 전용 API |

### 2.5 기술 부채

#### 높은 우선순위

| 항목 | 설명 | 권장 조치 |
|------|------|-----------|
| 클라이언트 측 라이선스 | 컴파일 심볼 기반으로 우회 가능 | 서버 측 라이선스 검증 구현 |
| Firestore 역할 평문 저장 | isCreator 필드가 평문 | 난독화 또는 서버 측 검증 강화 |
| 인증 속도 제한 없음 | 브루트포스 공격 취약 | Firebase Functions에 rate limit 적용 |

#### 중간 우선순위

| 항목 | 설명 | 권장 조치 |
|------|------|-----------|
| 감사 로깅 부족 | 사용자 행동 추적 어려움 | 로깅 시스템 구현 |
| 단위 테스트 부족 | 품질 리스크 | 테스트 커버리지 확대 |
| 로컬 캐시 보호 미흡 | 캐시 데이터 노출 가능 | 캐시 암호화 강화 |

#### 낮은 우선순위

| 항목 | 설명 | 권장 조치 |
|------|------|-----------|
| API 문서화 부족 | 신규 개발자 온보딩 어려움 | SDK/API 문서 정비 |
| 코드 중복 | 유지보수 비용 증가 | 리팩토링 |

### 2.6 로드맵

#### 단기 (1~3개월)

| 항목 | 우선순위 | 설명 |
|------|----------|------|
| VRM 1.0 지원 | 높음 | 최신 VRM 표준 대응 |
| Optitrack 통합 | 중간 | 엔터프라이즈 수요 대응 |
| UI/UX 개선 | 중간 | 사용성 향상 |
| 안정성 버그 수정 | 높음 | 기존 기능 안정화 |

#### 중기 (3~6개월)

| 항목 | 우선순위 | 설명 |
|------|----------|------|
| 음성 채팅 | 높음 | Photon Voice 통합 |
| 녹화 기능 | 중간 | 세션 녹화/재생 |
| NDI 출력 | 중간 | 방송 장비 연동 |
| 서버 측 라이선스 검증 | 높음 | 보안 강화 |

#### 장기 (6개월+)

| 항목 | 우선순위 | 설명 |
|------|----------|------|
| 월드 마켓플레이스 | 중간 | 월드 공유 플랫폼 |
| Steam 출시 | 높음 | 상용화 |
| 엔터프라이즈 라이선스 | 중간 | B2B 기능 확장 |
| 모바일 뷰어 | 낮음 | 시청 전용 앱 |

### 2.7 버전 정보

#### 현재 버전

| 구성 요소 | 버전 |
|-----------|------|
| Unity | 2022.3.62f3 LTS |
| URP | 14.0.12 |
| Photon Fusion | 2.x |
| UniVRM | 최신 |
| VIRDY SDK | 0.0.2 |

#### 향후 릴리스 계획

| 버전 | 예상 내용 |
|------|-----------|
| 1.0.0 | 안정화 릴리스 |
| 1.1.0 | VRM 1.0 지원 |
| 1.2.0 | 음성 채팅 |
| 2.0.0 | Steam 출시 |

### 2.8 개발 환경 요구사항

#### 최소 요구사항

| 항목 | 요구사항 |
|------|----------|
| OS | Windows 10/11 x64 |
| Unity | 2022.3.62f3 |
| RAM | 16GB |
| GPU | DirectX 11 지원 |
| 저장소 | 50GB 이상 |

#### 권장 요구사항

| 항목 | 권장 |
|------|------|
| OS | Windows 11 x64 |
| Unity | 2022.3.62f3 LTS |
| RAM | 32GB |
| GPU | RTX 3060 이상 |
| 저장소 | SSD 100GB |

### 2.9 테스팅 현황

#### 테스트 커버리지

| 영역 | 수준 | 비고 |
|------|------|------|
| 단위 테스트 | 낮음 | 확대 필요 |
| 통합 테스트 | 중간 | 수동 테스트 위주 |
| E2E 테스트 | 낮음 | 자동화 필요 |
| 성능 테스트 | 중간 | Unity Profiler 활용 |

#### 테스팅 도구

| 도구 | 용도 |
|------|------|
| ParrelSync | 멀티 인스턴스 네트워크 테스트 |
| Unity Profiler | 성능 분석 |
| Memory Profiler | 메모리 분석 |

---

## 3. 설계 시 고려사항

### 3.1 라이선스 시스템 강화

상용화 전에 서버 측 라이선스 서버를 구축하여 기능 접근을 제어해야 한다.

### 3.2 테스트 자동화

단위/통합/E2E 테스트 커버리지가 낮아 리그레션 위험이 있다. CI/CD 파이프라인에 자동 테스트를 통합하여 빌드 안정성을 확보해야 한다.

### 3.3 문서화

SDK와 내부 API의 문서화가 부족하여 신규 개발자 온보딩에 시간이 소요된다. SDK 문서 정비와 코드 주석 추가를 병행해야 한다.

---

## 4. 엣지 케이스 및 예외 처리

| 상황 | 대응 |
|------|------|
| 미구현 기능 접근 시도 | "준비 중" 안내 메시지 표시 |
| 레거시 버전 클라이언트 접속 | Photon 로비 버전 분리로 자동 격리 |
| 지원 종료된 트래커 장비 | 해당 장비 옵션 숨김, 호환성 안내 |
| 서버 점검 중 접속 | 점검 공지 + 예상 완료 시각 안내 |

---

## 5. 향후 확장 가능성

| 항목 | 설명 | 우선순위 |
|------|------|----------|
| **CI/CD 파이프라인** | 자동 빌드, 테스트, 배포 | 높음 |
| **성능 대시보드** | 실시간 서버/클라이언트 메트릭 모니터링 | 중간 |
| **A/B 테스트** | 기능 출시 전 일부 사용자 대상 테스트 | 낮음 |
| **크래시 리포팅** | 자동 크래시 로그 수집 및 분석 | 높음 |
| **원격 설정** | Firebase Remote Config 활용 | 중간 |

---

## 관련 문서

- [기술 아키텍처](./01_Architecture.md)
- [라이선스 체계](../03_Operations/02_License_System.md)
- [보안 시스템](../03_Operations/03_Security.md)
- [제품 개요](../01_Product/01_Product_Overview.md)
